<!DOCTYPE html>





























































































<html>
<head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta content="IE=edge" http-equiv="X-UA-Compatible">

<meta name="Description" content="The Android testing framework, an integral part of the development environment, provides an architecture and powerful tools that help you test every aspect of your application at every level from unit to framework. The testing framework has these key …">
<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<title>Testing Fundamentals | Android Developers</title>

<!-- STYLESHEETS -->
<link rel="stylesheet"
href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
  title="roboto">

<link href="../../assets/css/default.css?v=7" rel="stylesheet" type="text/css">



<!-- JAVASCRIPT -->
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script src="../../assets/js/android_3p-bundle.js" type="text/javascript"></script>
<script type="text/javascript">
  var toRoot = "../../";
  var metaTags = [];
  var devsite = false;
</script>
<script src="../../assets/js/docs.js?v=6" type="text/javascript"></script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5831155-1', 'android.com');
  ga('create', 'UA-49880327-2', 'android.com', {'name': 'universal'});  // New tracker);
  ga('send', 'pageview');
  ga('universal.send', 'pageview'); // Send page view for new tracker.
</script>

</head>

<body class="gc-documentation


develop" itemscope itemtype="http://schema.org/Article">
<a name="top"></a>

<!-- dialog to prompt lang pref change when loaded from hardcoded URL
<div id="langMessage" style="display:none">
  <div>
    <div class="lang en">
      <p>You requested a page in English, would you like to proceed with this language setting?</p>
    </div>
    <div class="lang es">
      <p>You requested a page in Spanish (Español), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang ja">
      <p>You requested a page in Japanese (日本語), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang ko">
      <p>You requested a page in Korean (한국어), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang ru">
      <p>You requested a page in Russian (Русский), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang zh-cn">
      <p>You requested a page in Simplified Chinese (简体中文), would you like to proceed with this language setting?</p>
    </div>
    <div class="lang zh-tw">
      <p>You requested a page in Traditional Chinese (繁體中文), would you like to proceed with this language setting?</p>
    </div>
    <a href="#" class="button yes" onclick="return false;">
      <span class="lang en">Yes</span>
      <span class="lang es">Sí</span>
      <span class="lang ja">Yes</span>
      <span class="lang ko">Yes</span>
      <span class="lang ru">Yes</span>
      <span class="lang zh-cn">是的</span>
      <span class="lang zh-tw">没有</span>
    </a>
    <a href="#" class="button" onclick="$('#langMessage').hide();return false;">
      <span class="lang en">No</span>
      <span class="lang es">No</span>
      <span class="lang ja">No</span>
      <span class="lang ko">No</span>
      <span class="lang ru">No</span>
      <span class="lang zh-cn">没有</span>
      <span class="lang zh-tw">没有</span>
    </a>
  </div>
</div> -->


  <!-- Header -->
  <div id="header-wrapper">
    <div class="dac-header" id="header">




      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="javascript:;" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        <a class="dac-header-logo" href="../../index.html">
          <img class="dac-header-logo-image" src="../../assets/images/android_logo.png"
              srcset="../../assets/images/android_logo@2x.png 2x"
              width="32" height="36" alt="Android" /> Developers
          </a>

        <ul class="dac-header-crumbs">
          
          <li class="dac-header-crumbs-item"><span class="dac-header-crumbs-link current ">Testing Fundamentals</a></li>
        </ul>

        
        
        
  <div class="dac-header-search" id="search-container">
    <div class="dac-header-search-inner">
      <div class="dac-sprite dac-search dac-header-search-btn" id="search-btn"></div>
      <form class="dac-header-search-form" onsubmit="return submit_search()">
        <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q"
          onfocus="search_focus_changed(this, true)" onblur="search_focus_changed(this, false)"
          onkeydown="return search_changed(event, true, '../../')"
          onkeyup="return search_changed(event, false, '../../')"
          class="dac-header-search-input" placeholder="Search" />
          <a class="dac-header-search-close hide" id="search-close">close</a>
      </form>
    </div><!-- end dac-header-search-inner -->
  </div><!-- end dac-header-search -->

  <div class="search_filtered_wrapper">
    <div class="suggest-card reference no-display">
      <ul class="search_filtered">
      </ul>
    </div>
    <div class="suggest-card develop no-display">
      <ul class="search_filtered">
      </ul>
      <div class="child-card guides no-display">
      </div>
      <div class="child-card training no-display">
      </div>
      <div class="child-card samples no-display">
      </div>
    </div>
    <div class="suggest-card design no-display">
      <ul class="search_filtered">
      </ul>
    </div>
    <div class="suggest-card distribute no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

        

        <a class="dac-header-console-btn" href="https://play.google.com/apps/publish/">
          <span class="dac-sprite dac-google-play"></span>
          <span class="dac-visible-desktop-inline">Developer</span>
          Console
        </a>

      </div><!-- end header-wrap.wrap -->
    </div><!-- end header -->

    <div id="searchResults" class="wrap" style="display:none;">
      <h2 id="searchTitle">Results</h2>
      <div id="leftSearchControl" class="search-control">Loading...</div>
    </div>
  </div> <!--end header-wrapper -->

  
  <!-- Navigation-->
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>

    <ul class="dac-nav-list" data-dac-nav>
      <li class="dac-nav-item dac-nav-head">
        <a class="dac-nav-link dac-nav-logo" data-dac-toggle-nav href="javascript:;" title="Close navigation">
          <img class="dac-logo-image" src="../../assets/images/android_logo.png"
               srcset="../../assets/images/android_logo@2x.png 2x"
               width="32" height="36" alt="Android" /> Developers
        </a>
      </li>
      <li class="dac-nav-item home">
        <a class="dac-nav-link dac-visible-mobile-block" href="../../index.html">Home</a>
        <ul class="dac-nav-secondary about">
          <li class="dac-nav-item about">
            <a class="dac-nav-link" href="../../about/index.html">Android</a>
          </li>
          <li class="dac-nav-item wear">
            <a class="dac-nav-link" href="../../wear/index.html">Wear</a>
          </li>
          <li class="dac-nav-item tv">
            <a class="dac-nav-link" href="../../tv/index.html">TV</a>
          </li>
          <li class="dac-nav-item auto">
            <a class="dac-nav-link" href="../../auto/index.html">Auto</a>
          </li>
        </ul>
      </li>
      <li class="dac-nav-item design">
        <a class="dac-nav-link" href="../../design/index.html"
           zh-tw-lang="設計"
           zh-cn-lang="设计"
           ru-lang="Проектирование"
           ko-lang="디자인"
           ja-lang="設計"
           es-lang="Diseñar">Design</a>
      </li>
      <li class="dac-nav-item develop">
        <a class="dac-nav-link" href="../../develop/index.html"
           zh-tw-lang="開發"
           zh-cn-lang="开发"
           ru-lang="Разработка"
           ko-lang="개발"
           ja-lang="開発"
           es-lang="Desarrollar">Develop</a>
        <ul class="dac-nav-secondary develop">
          <li class="dac-nav-item training">
            <a class="dac-nav-link" href="../../training/index.html"
               zh-tw-lang="訓練課程"
               zh-cn-lang="培训"
               ru-lang="Курсы"
               ko-lang="교육"
               ja-lang="トレーニング"
               es-lang="Capacitación">Training</a>
          </li>
          <li class="dac-nav-item guide">
            <a class="dac-nav-link" href="../../guide/index.html"
               zh-tw-lang="API 指南"
               zh-cn-lang="API 指南"
               ru-lang="Руководства по API"
               ko-lang="API 가이드"
               ja-lang="API ガイド"
               es-lang="Guías de la API">API Guides</a>
          </li>
          <li class="dac-nav-item reference">
            <a class="dac-nav-link" href="../../reference/packages.html"
               zh-tw-lang="參考資源"
               zh-cn-lang="参考"
               ru-lang="Справочник"
               ko-lang="참조문서"
               ja-lang="リファレンス"
               es-lang="Referencia">Reference</a>
          </li>
          <li class="dac-nav-item tools">
            <a class="dac-nav-link" href="../../sdk/index.html"
               zh-tw-lang="相關工具"
               zh-cn-lang="工具"
               ru-lang="Инструменты"
               ko-lang="도구"
               ja-lang="ツール"
               es-lang="Herramientas">Tools</a></li>
          <li class="dac-nav-item google">
            <a class="dac-nav-link" href="../../google/index.html">Google Services</a>
          </li>
          
          <li class="dac-nav-item preview">
            <a class="dac-nav-link" href="../../preview/index.html">Preview</a>
          </li>
        </ul>
      </li>
      <li class="dac-nav-item distribute">
        <a class="dac-nav-link" href="../../distribute/googleplay/index.html"
           zh-tw-lang="發佈"
           zh-cn-lang="分发"
           ru-lang="Распространение"
           ko-lang="배포"
           ja-lang="配布"
           es-lang="Distribuir">Distribute</a>
        <ul class="dac-nav-secondary distribute">
          <li class="dac-nav-item googleplay">
            <a class="dac-nav-link" href="../../distribute/googleplay/index.html">Google Play</a></li>
          <li class="dac-nav-item essentials">
            <a class="dac-nav-link" href="../../distribute/essentials/index.html">Essentials</a></li>
          <li class="dac-nav-item users">
            <a class="dac-nav-link" href="../../distribute/users/index.html">Get Users</a></li>
          <li class="dac-nav-item engage">
            <a class="dac-nav-link" href="../../distribute/engage/index.html">Engage &amp; Retain</a></li>
          <li class="dac-nav-item monetize">
            <a class="dac-nav-link" href="../../distribute/monetize/index.html">Earn</a>
          </li>
          <li class="dac-nav-item analyze">
            <a class="dac-nav-link" href="../../distribute/analyze/index.html">Analyze</a>
          </li>
          <li class="dac-nav-item stories">
            <a class="dac-nav-link" href="../../distribute/stories/index.html">Stories</a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>
  <!-- end navigation-->
  




  <div class="wrap clearfix" id="body-content"><div class="cols">
    <div class="col-3 dac-toggle dac-mobile" id="side-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
      
  <div class="dac-visible-mobile-block" data-toggle="section">
    <span class="dac-toggle-expand dac-devdoc-toggle"><i class="dac-sprite dac-expand-more-black"></i> Show navigation</span>
    <span class="dac-toggle-collapse dac-devdoc-toggle" data-toggle-section><i class="dac-sprite dac-expand-less-black"></i> Hide navigation</span>
  </div>

      <div class="dac-toggle-content" id="devdoc-nav">
        <div class="scroll-pane">
<ul id="nav">

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../sdk/index.html"><span class="en">Download</span></a></div>
    <ul>
      <li><a href="../../sdk/installing/index.html">
          <span class="en">Installing the SDK</span></a></li>

      <li><a href="../../sdk/installing/adding-packages.html">
          <span class="en">Adding SDK Packages</span></a></li>
    </ul>
  </li>


<!-- Android Studio menu-->

 <li class="nav-section">
    <div class="nav-section-header">
      <a href="../../tools/studio/index.html">Android Studio</a>
    </div>
    <ul>
      <li><a href="../../tools/studio/studio-config.html">
          Configuration</a></li>
      <li><a href="../../tools/studio/studio-features.html">
          Features</a></li>
      <li><a href="../../sdk/installing/studio-tips.html">
          Tips and Tricks</a></li>
    </ul>

 </li><!-- End of Android Studio menu -->


<!-- Workflow menu-->

  <li class="nav-section">
    <div class="nav-section-header">
        <a href="../../tools/workflow/index.html"><span class="en">Workflow</span></a>
    </div>
    <ul>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../tools/devices/index.html"><span class="en">Setting Up Virtual Devices</span></a></div>
        <ul>
          <li><a href="../../tools/devices/managing-avds.html"><span class="en">With AVD Manager</span></a></li>
          <li><a href="../../tools/devices/managing-avds-cmdline.html"><span class="en">From the Command Line</span></a></li>
          <li><a href="../../tools/devices/emulator.html"><span class="en">Using the Emulator</span></a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../tools/device.html"><span class="en">Using Hardware Devices</span></a></div>
        <ul>
          <li><a href="../../tools/extras/oem-usb.html"><span
            class="en">USB Drivers</span></a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../tools/projects/index.html"><span class="en">Managing Projects</span></a></div>
        <ul>
          <li><a href="../../sdk/installing/create-project.html"><span class="en">From Android Studio</span></a></li>
          <li><a href="../../tools/projects/projects-cmdline.html"><span class="en">From the Command Line</span></a></li>
          <li><a href="../../tools/projects/templates.html"><span class="en">Using Code Templates</span></a></li>
        </ul>
      </li>


      <li class="nav-section">
        <div class="nav-section-header">
          <a href="../../tools/building/index.html">
          <span class="en">Building and Running</span></a>
        </div>
        <ul>
          <li><a href="../../tools/building/building-studio.html">
            <span class="en">From Android Studio</span></a></li>
          <li><a href="../../tools/building/building-cmdline.html">
            <span class="en">From the Command Line</span></a></li>
        </ul>
      </li>


  <li class="nav-section">
        <div class="nav-section-header"><a href="../../tools/testing/index.html">
            <span class="en">Testing</span>
          </a></div>
        <ul>
          <li>
            <a href="../../tools/testing/testing_android.html">
            <span class="en">Fundamentals</span></a>
          </li>
          <li><a href="../../tools/testing/testing_eclipse.html">
            <span class="en">From Eclipse</span></a>
          </li>
          <li><a href="../../tools/testing/testing_otheride.html">
            <span class="en">From Other IDEs</span></a>
          </li>
          <li>
            <a href="../../tools/testing/activity_testing.html">
            <span class="en">Activity Testing</span></a>
          </li>
          <li>
            <a href="../../tools/testing/service_testing.html">
            <span class="en">Service Testing</span></a>
          </li>
          <li>
            <a href="../../tools/testing/contentprovider_testing.html">
            <span class="en">Content Provider Testing</span></a>
          </li>
          <li>
            <a href="../../tools/testing/testing_accessibility.html">
            <span class="en">Accessibility Testing</span></a>
          </li>
           <li>
            <a href="../../tools/testing/testing_ui.html">
            <span class="en">UI Testing</span></a>
          </li>
          <li>
            <a href="../../tools/testing/what_to_test.html">
            <span class="en">What To Test</span></a>
          </li>
          <li>
            <a href="../../tools/testing/activity_test.html">
            <span class="en">Activity Testing Tutorial</span></a>
          </li>
        </ul>
  </li><!-- end of testing -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../tools/debugging/index.html"><span class="en">Debugging</span></a></div>
    <ul>
      <li><a href="../../tools/debugging/debugging-studio.html"><span class="en">From Android Studio</span></a></li>
      <li><a href="../../tools/debugging/debugging-projects-cmdline.html"><span class="en">From Other IDEs</span></a></li>
      <li><a href="../../tools/debugging/ddms.html"><span class="en">Using DDMS</span></a></li>
      <li><a href="../../tools/debugging/debugging-log.html"><span class="en">Reading and Writing Logs</span></a></li>
      <li><a href="../../tools/debugging/improving-w-lint.html"><span class="en">Improving Your Code with lint</span></a></li>
      <li><a href="../../tools/debugging/debugging-ui.html"><span class="en">Optimizing your UI</span></a></li>
      <li><a href="../../tools/debugging/debugging-tracing.html"><span class="en">Profiling with Traceview and dmtracedump</span></a></li>
      <li><a href="../../tools/debugging/annotations.html"><span class="en">Improving Code Inspection with Annotations</span></a></li>
      <li><a href="../../tools/debugging/systrace.html"><span class="en">Analyzing UI Performance</span></a></li>
      <li><a href="../../tools/debugging/debugging-memory.html">Investigating Your RAM Usage</a></li>
      <li><a href="../../tools/debugging/debugging-devtools.html"><span class="en">Using the Dev Tools App</span></a></li>
    </ul>
  </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../tools/publishing/publishing_overview.html" zh-cn-lang="发布概述"><span class="en">Publishing</span></a></div>
        <ul>
          <li><a href="../../tools/publishing/preparing.html" zh-cn-lang="准备发布"><span class="en">Preparing for Release</span></a></li>
          <li><a href="../../tools/publishing/versioning.html"><span class="en">Versioning Your Apps</span></a></li>
          <li><a href="../../tools/publishing/app-signing.html"><span class="en">Signing Your Apps</span></a></li>
        </ul>
      </li>
    </ul>
  </li>


  <li class="nav-section">
    <div class="nav-section-header"><a href="../../tools/help/index.html"><span
class="en">Tools Help</span></a></div>
    <ul>
      <li><a href="../../tools/help/adb.html">adb</a></li>
      <li><a href="../../tools/help/android.html">android</a></li>
      <li><a href="../../tools/help/avd-manager.html">AVD Manager</a></li>
      <li><a href="../../tools/help/bmgr.html">bmgr</a>
      <li><a href="../../tools/help/monitor.html">Device Monitor</a></li>
      <li><a href="../../tools/help/dmtracedump.html">dmtracedump</a></li>
      <li><a href="../../tools/help/draw9patch.html">Draw 9-Patch</a></li>
      <li><a href="../../tools/help/emulator.html">Emulator</a></li>
      <li><a href="../../tools/help/etc1tool.html">etc1tool</a></li>
      <li><a href="../../tools/help/hierarchy-viewer.html">Hierarchy Viewer</a></li>
      <li><a href="../../tools/help/hprof-conv.html">hprof-conv</a></li>
      <li><a href="../../tools/help/jobb.html">jobb</a></li>
      <li><a href="../../tools/help/lint.html">lint</span></a></li>
      <li><a href="../../tools/help/logcat.html">logcat</a></li>
      <li><a href="../../tools/help/mksdcard.html">mksdcard</a></li>
       <li><a href="../../tools/help/proguard.html" zh-cn-lang="ProGuard">ProGuard</a></li>
       <li><a href="../../tools/help/sdk-manager.html">SDK Manager</a></li>
       <li><a href="../../tools/help/systrace.html">Systrace</a></li>
       <li><a href="../../tools/help/gltracer.html">Tracer for OpenGL ES</a></li>
       <li><a href="../../tools/help/traceview.html">Traceview</a></li>
       <li><a href="../../tools/help/zipalign.html">zipalign</a></li>
    </ul>
  </li>

  </li><!-- end of tools help -->


<!-- Build System menu-->

  <li class="nav-section">
    <div class="nav-section-header">
      <a href="../../sdk/installing/studio-build.html">Build System</a>
    </div>
    <ul>
      <li><a href="../../tools/building/configuring-gradle.html">
        <span class="en">Configuring Gradle Builds</span></a></li>
      <li><a href="../../tools/building/plugin-for-gradle.html">
        <span class="en">Android Plugin for Gradle</span></a></li>
      <li><a href="../../tools/building/manifest-merge.html">
        <span class="en">Manifest Merging</span></a></li>
      <li><a href="../../tools/building/multidex.html">
        <span class="en">Apps Over 65K Methods</span></a></li>
      </ul>
  </li><!-- end of build system -->


<!-- Performance Tools menu-->
  <li class="nav-section">
    <div class="nav-section-header">
      <a href="../../tools/performance/index.html">Peformance Tools</a>
    </div>
    <ul>
      <li><a href="../../tools/performance/debug-gpu-overdraw/index.html">
        Overdraw Debugger</a>
      </li>
      <li><a href="../../tools/performance/profile-gpu-rendering/index.html">
        Rendering Profiler</a>
      </li>
      <li class="nav-section">
        <div class="nav-section-header">
          <a href="../../tools/performance/hierarchy-viewer/index.html">
          Hierarchy Viewer</a></div>
        <ul>
          <li><a href="../../tools/performance/hierarchy-viewer/setup.html"><span
            class="en">Setup</span></a>
          </li>
          <li><a href="../../tools/performance/hierarchy-viewer/profiling.html"><span
            class="en">Profiling</span></a>
          </li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header">
          <a href="../../tools/performance/comparison.html">
          Memory Profilers</a></div>
        <ul>
          <li><a href="../../tools/performance/memory-monitor/index.html"><span
            class="en">Memory Monitor</span></a>
          </li>
          <li><a href="../../tools/performance/heap-viewer/index.html"><span
            class="en">Heap Viewer</span></a>
          </li>
          <li><a href="../../tools/performance/allocation-tracker/index.html"><span
            class="en">Allocation Tracker</span></a>
          </li>
        </ul>
      </li>
      <li><a href="../../tools/performance/traceview/index.html">
        Traceview</a>
      </li>
      <li><a href="../../tools/performance/systrace/index.html">
        Systrace</a>
      </li>
      <li class="nav-section">
        <div class="nav-section-header">
          <a href="../../tools/performance/batterystats-battery-historian/index.html">
          Battery Profilers</a></div>
        <ul>
          <li><a href="../../tools/performance/batterystats-battery-historian/charts.html"><span
            class="en">Historian Charts</span></a>
          </li>
        </ul>
      </li>
    </ul>
  </li><!-- End Performance Tools menu-->


  <!-- Testing Tools menu-->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../tools/testing/testing-tools.html"><span class="en">Testing Tools</span></a></div>
    <ul>
      <li class="nav-section">
         <div class="nav-section-header"><a href="../../tools/testing-support-library/index.html"><span
class="en">Testing Support Library</span></a></div>
         <ul>
            <li><a href="../../reference/android/support/test/package-summary.html">API Reference</a></li>
         </ul>
      </li>
      <li><a href="../../tools/help/monkey.html">monkey</a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../tools/help/monkeyrunner_concepts.html"><span class="en">monkeyrunner</span></a></div>
        <ul>
          <li><a href="../../tools/help/MonkeyDevice.html"><span
class="en">MonkeyDevice</span></a></li>
          <li><a href="../../tools/help/MonkeyImage.html"><span
class="en">MonkeyImage</span></a></li>
          <li><a href="../../tools/help/MonkeyRunner.html"><span
class="en">MonkeyRunner</span></a></li>
        </ul>
      </li>
    </ul>
  </li><!-- end of testing support library -->


<!-- Support Library menu-->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../tools/support-library/index.html"><span
class="en">Support Library</span></a></div>
    <ul>
      <li><a href="../../tools/support-library/features.html">Features</a></li>
      <li><a href="../../tools/support-library/setup.html">Setup</a></li>
    </ul>
  </li><!-- end of support library -->

  <li class="nav-section">
    <div class="nav-section-header empty"><a href="../../tools/data-binding/guide.html"><span
class="en">Data Binding Library</span></a></div>
  </li><!-- end of support library -->


<!-- Revision menu-->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../tools/revisions/index.html"><span class="en">Revisions</span></a></div>
    <ul>
      <li><a href="../../tools/revisions/studio.html">
        <span class="en">Android Studio</span>
      </a></li>
      <li><a href="../../tools/sdk/tools-notes.html">
        <span class="en">SDK Tools</span>
      </a></li>
      <li><a href="../../tools/revisions/build-tools.html">
        <span class="en">SDK Build Tools</span>
      </a></li>
      <li><a href="../../tools/revisions/gradle-plugin.html">
        <span class="en">Android Plugin for Gradle</span>
      </a></li>
      <li><a href="../../tools/revisions/platforms.html">
        <span class="en">SDK Platforms</span></a></li>
      <li><a href="../../tools/sdk/eclipse-adt.html">
        <span class="en">ADT Plugin</span></a></li>
    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header empty">
      <a href="../../tools/sdk/ndk/index.html">NDK</a>
    </div>
  </li>

<!--  <li class="nav-section">
    <div class="nav-section-header">
    <a href="../../tools/adk/index.html">
      <span class="en">ADK</span></a>
    </div>
    <ul>
      <li><a href="../../tools/adk/adk2.html">ADK 2012 Guide</a></li>
      <li><a href="../../tools/adk/adk.html">ADK 2011 Guide</a></li>
    </ul>
  </li> -->


<!-- Eclipse ADT menu-->

  <li class="nav-section">
    <div class="nav-section-header">
    <a href="../../tools/help/adt.html">
      <span class="en">Eclipse with ADT</span></a>
    </div>
    <ul>
        <li class="nav-section">
        <div class="nav-section-header"><a href="../../sdk/installing/migrate.html">
          <span class="en">Migrating to Android Studio</span></a></div>
         <ul>
            <li><a href="../../tools/studio/eclipse-transition-guide.html">
            Transition Guide</span></a> </li>
         </ul>
        </li>

    <li><a href="../../sdk/installing/installing-adt.html">
        <span class="en">Installing the Eclipse Plugin</span></a></li>
    <li><a href="../../tools/projects/projects-eclipse.html">Managing Projects</a></li>
    <li><a href="../../tools/building/building-eclipse.html">Building and Running</a></li>
    <li><a href="../../tools/building/building-cmdline-ant.html">Building with Ant</a></li>
    <li><a href="../../tools/testing/testing_eclipse.html">Testing</a></li>
    <li><a href="../../tools/debugging/debugging-projects.html">Debugging</a></li>
    <li><a href="../../tools/publishing/app-signing-eclipse.html">Signing Your Apps</a></li>
    </ul>
  </li><!-- end of Eclipse  -->


</ul><!-- nav -->

<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>

        </div>
      </div>
    </div> <!-- end side-nav -->
    <script>
      $(document).ready(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="col-13" id="doc-col" >


  

  
    
      
        <h1 itemprop="name" >Testing Fundamentals</h1>
      
    
  


  
  <div id="jd-content">


    <div class="jd-descr" itemprop="articleBody">
    <div id="qv-wrapper">
  <div id="qv">
  <h2>In this document</h2>
  <ol>
    <li>
        <a href="#TestStructure">Test Structure</a>
    </li>
    <li>
        <a href="#TestProjects">Test Projects</a>
    </li>
    <li>
      <a href="#TestAPI">The Testing API</a>
      <ol>
        <li>
          <a href="#JUnit">JUnit</a>
        </li>
        <li>
          <a href="#Instrumentation">Instrumentation</a>
        </li>
        <li>
            <a href="#TestCaseClasses">Test case classes</a>
        </li>
        <li>
          <a href="#AssertionClasses">Assertion classes</a>
        </li>
        <li>
          <a href="#MockObjectClasses">Mock object classes</a>
        </li>
      </ol>
    </li>
    <li>
        <a href="#InstrumentationTestRunner">Running Tests</a>
    </li>
    <li>
        <a href="#TestResults">Seeing Test Results</a>
    </li>
    <li>
        <a href="#Monkeys">monkey and monkeyrunner</a>
    </li>
    <li>
       <a href="#PackageNames">Working With Package Names</a>
    </li>
    <li>
        <a href="#WhatToTest">What To Test</a>
    </li>
    <li>
        <a href="#NextSteps">Next Steps</a>
    </li>
  </ol>
  <h2>Key classes</h2>
    <ol>
      <li><code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code></li>
      <li><code><a href="../../reference/android/test/package-summary.html">android.test</a></code></li>
      <li><code><a href="../../reference/android/test/mock/package-summary.html">android.test.mock</a></code></li>
      <li><code><a href="../../reference/junit/framework/package-summary.html">junit.framework</a></code></li>
    </ol>
  <h2>Related tutorials</h2>
    <ol>
        <li>
            <a href="../../tools/testing/activity_test.html">Activity Testing Tutorial</a>
        </li>
    </ol>
  <h2>See also</h2>
      <ol>
        <li>
          <a href="../../tools/testing/testing_eclipse.html">
          Testing from Eclipse with ADT</a>
        </li>
        <li>
          <a href="../../tools/testing/testing_otheride.html">
          Testing from Other IDEs</a>
        </li>
        <li>
          <a href="../../tools/help/monkeyrunner_concepts.html">
          monkeyrunner</a>
        </li>
        <li>
     <a href="../../tools/help/monkey.html">UI/Application Exerciser Monkey</a>
        </li>
      </ol>
  </div>
</div>
<p>
    The Android testing framework, an integral part of the development environment,
    provides an architecture and powerful tools that help you test every aspect of your application
    at every level from unit to framework.
</p>
<p>
    The testing framework has these key features:
</p>
<ul>
    <li>
        Android test suites are based on JUnit. You can use plain JUnit to test a class that doesn't
        call the Android API, or Android's JUnit extensions to test Android components. If you're
        new to Android testing, you can start with general-purpose test case classes such as <code><a href="../../reference/android/test/AndroidTestCase.html">AndroidTestCase</a></code> and then go on to use more sophisticated classes.
    </li>
    <li>
        The Android JUnit extensions provide component-specific test case classes. These classes
        provide helper methods for creating mock objects and methods that help you control the
        lifecycle of a component.
    </li>
    <li>
        Test suites are contained in test packages that are similar to main application packages, so
        you don't need to learn a new set of tools or techniques for designing and building tests.
    </li>
    <li>
        The SDK tools for building and tests are available in Eclipse with ADT, and also in
        command-line form for use with other IDEs. These tools get information from the project of
        the application under test and use this information to automatically create the build files,
        manifest file, and directory structure for the test package.
    </li>
    <li>
        The SDK also provides
  <a href="../../tools/help/monkeyrunner_concepts.html">monkeyrunner</a>, an API
        for testing devices with Python programs, and <a
        href="../../tools/help/monkey.html">UI/Application Exerciser Monkey</a>,
        a command-line tool for stress-testing UIs by sending pseudo-random events to a device.
    </li>
</ul>
<p>
    This document describes the fundamentals of the Android testing framework, including the
    structure of tests, the APIs that you use to develop tests, and the tools that you use to run
    tests and view results. The document assumes you have a basic knowledge of Android application
    programming and JUnit testing methodology.
</p>
<p>
    The following diagram summarizes the testing framework:
</p>
<div style="width: 70%; margin-left:auto; margin-right:auto;">
<a href="../../images/testing/test_framework.png">
    <img src="../../images/testing/test_framework.png"
        alt="The Android testing framework"/>
</a>
</div>
<h2 id="TestStructure">Test Structure</h2>
<p>
    Android's build and test tools assume that test projects are organized into a standard
    structure of tests, test case classes, test packages, and test projects.
</p>
<p>
    Android testing is based on JUnit. In general, a JUnit test is a method whose
    statements test a part of the application under test. You organize test methods into classes
    called test cases (or test suites). Each test is an isolated test of an individual module in
    the application under test. Each class is a container for related test methods, although it
    often provides helper methods as well.
</p>
<p>
    In JUnit, you build one or more test source files into a class file. Similarly, in Android you
    use the SDK's build tools to build one or more test source files into class files in an
    Android test package. In JUnit, you use a test runner to execute test classes. In Android, you
    use test tools to load the test package and the application under test, and the tools then
    execute an Android-specific test runner.
</p>
<h2 id="TestProjects">Test Projects</h2>
<p>
    Tests, like Android applications, are organized into projects.
</p>
<p>
    A test project is a directory or Eclipse project in which you create the source code, manifest
    file, and other files for a test package. The Android SDK contains tools for Eclipse with ADT
    and for the command line that create and update test projects for you. The tools create the
    directories you use for source code and resources and the manifest file for the test package.
    The command-line tools also create the Ant build files you need.
</p>
<p>
    You should always use Android tools to create a test project. Among other benefits,
    the tools:
</p>
    <ul>
        <li>
            Automatically set up your test package to use
            <code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code> as the test case runner. You must use
            <code>InstrumentationTestRunner</code> (or a subclass) to run JUnit tests.
        </li>
        <li>
            Create an appropriate name for the test package. If the application
            under test has a package name of <code>com.mydomain.myapp</code>, then the
            Android tools set the test package name to <code>com.mydomain.myapp.test</code>. This
            helps you identify their relationship, while preventing conflicts within the system.
        </li>
        <li>
            Automatically create the proper build files, manifest file, and directory
            structure for the test project. This helps you to build the test package without
            having to modify build files and sets up the linkage between your test package and
            the application under test.
            The
        </li>
    </ul>
<p>
    You can create a test project anywhere in your file system, but the best approach is to
    add the test project so that its root directory <code>tests/</code> is at the same level
    as the <code>src/</code> directory of the main application's project. This helps you find the
    tests associated with an application. For example, if your application project's root directory
    is <code>MyProject</code>, then you should use the following directory structure:
</p>
<pre class="classic no-pretty-print">
  MyProject/
      AndroidManifest.xml
      res/
          ... (resources for main application)
      src/
          ... (source code for main application) ...
      tests/
          AndroidManifest.xml
          res/
              ... (resources for tests)
          src/
              ... (source code for tests)
</pre>
<h2 id="TestAPI">The Testing API</h2>
<p>
    The Android testing API is based on the JUnit API and extended with a instrumentation
    framework and Android-specific testing classes.
</p>
<h3 id="JUnit">JUnit</h3>
<p>
    You can use the JUnit <code><a href="../../reference/junit/framework/TestCase.html">TestCase</a></code> class to do unit testing on
    a class that doesn't call Android APIs. <code>TestCase</code> is also the base class for
    <code><a href="../../reference/android/test/AndroidTestCase.html">AndroidTestCase</a></code>, which you can use to test Android-dependent objects.
    Besides providing the JUnit framework, AndroidTestCase offers Android-specific setup,
    teardown, and helper methods.
</p>
<p>
    You use the JUnit <code><a href="../../reference/junit/framework/Assert.html">Assert</a></code> class to display test results.
    The assert methods compare values you expect from a test to the actual results and
    throw an exception if the comparison fails. Android also provides a class of assertions that
    extend the possible types of comparisons, and another class of assertions for testing the UI.
    These are described in more detail in the section <a href="#AssertionClasses">
    Assertion classes</a>
</p>
<p>
    To learn more about JUnit, you can read the documentation on the
    <a href="http://www.junit.org">junit.org</a> home page.
    Note that the Android testing API supports JUnit 3 code style, but not JUnit 4. Also, you must
    use Android's instrumented test runner <code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code> to run
    your test case classes. This test runner is described in the
    section <a href="#InstrumentationTestRunner">Running Tests</a>.
</p>
<h3 id="Instrumentation">Instrumentation</h3>
<p>
    Android instrumentation is a set of control methods or "hooks" in the Android system. These hooks
    control an Android component independently of its normal lifecycle. They also control how
    Android loads applications.
</p>
<p>
    Normally, an Android component runs in a lifecycle determined by the system. For example, an
    Activity object's lifecycle starts when the Activity is activated by an Intent. The object's
    <code>onCreate()</code> method is called, followed by <code>onResume()</code>. When the user
    starts another application, the <code>onPause()</code> method is called. If the Activity
    code calls the <code>finish()</code> method, the <code>onDestroy()</code> method is called.
    The Android framework API does not provide a way for your code to invoke these callback
    methods directly, but you can do so using instrumentation.
</p>
<p>
    Also, the system runs all the components of an application into the same
    process. You can allow some components, such as content providers, to run in a separate process,
    but you can't force an application to run in the same process as another application that is
    already running.
</p>
<p>
    With Android instrumentation, though, you can invoke callback methods in your test code.
    This allows you to run through the lifecycle of a component step by step, as if you were
    debugging the component. The following test code snippet demonstrates how to use this to
    test that an Activity saves and restores its state:
</p>
<a name="ActivitySnippet"></a>
<pre>
    // Start the main activity of the application under test
    mActivity = getActivity();

    // Get a handle to the Activity object's main UI widget, a Spinner
    mSpinner = (Spinner)mActivity.findViewById(com.android.example.spinner.R.id.Spinner01);

    // Set the Spinner to a known position
    mActivity.setSpinnerPosition(TEST_STATE_DESTROY_POSITION);

    // Stop the activity - The onDestroy() method should save the state of the Spinner
    mActivity.finish();

    // Re-start the Activity - the onResume() method should restore the state of the Spinner
    mActivity = getActivity();

    // Get the Spinner's current position
    int currentPosition = mActivity.getSpinnerPosition();

    // Assert that the current position is the same as the starting position
    assertEquals(TEST_STATE_DESTROY_POSITION, currentPosition);
</pre>
<p>
    The key method used here is
    <code><a href="../../reference/android/test/ActivityInstrumentationTestCase2.html#getActivity()">getActivity()</a></code>, which is a
    part of the instrumentation API. The Activity under test is not started until you call this
    method. You can set up the test fixture in advance, and then call this method to start the
    Activity.
</p>
<p>
    Also, instrumentation can load both a test package and the application under test into the
    same process. Since the application components and their tests are in the same process, the
    tests can invoke methods in the components, and modify and examine fields in the components.
</p>
<h3 id="TestCaseClasses">Test case classes</h3>
<p>
    Android provides several test case classes that extend <code><a href="../../reference/junit/framework/TestCase.html">TestCase</a></code> and
    <code><a href="../../reference/junit/framework/Assert.html">Assert</a></code> with Android-specific setup, teardown, and helper methods.
</p>
<h4 id="AndroidTestCase">AndroidTestCase</h4>
<p>
    A useful general test case class, especially if you are
    just starting out with Android testing, is <code><a href="../../reference/android/test/AndroidTestCase.html">AndroidTestCase</a></code>. It extends
    both <code><a href="../../reference/junit/framework/TestCase.html">TestCase</a></code> and <code><a href="../../reference/junit/framework/Assert.html">Assert</a></code>. It provides the
    JUnit-standard <code>setUp()</code> and <code>tearDown()</code> methods, as well as
    all of JUnit's Assert methods. In addition, it provides methods for testing permissions, and a
    method that guards against memory leaks by clearing out certain class references.
</p>
<h4 id="ComponentTestCase">Component-specific test cases</h4>
<p>
    A key feature of the Android testing framework is its component-specific test case classes.
    These address specific component testing needs with methods for fixture setup and
    teardown and component lifecycle control. They also provide methods for setting up mock objects.
    These classes are described in the component-specific testing topics:
</p>
<ul>
    <li>
        <a href="../../tools/testing/activity_testing.html">Activity Testing</a>
    </li>
    <li>
        <a href="../../tools/testing/contentprovider_testing.html">
        Content Provider Testing</a>
    </li>
    <li>
        <a href="../../tools/testing/service_testing.html">Service Testing</a>
    </li>
</ul>
<p>
    Android does not provide a separate test case class for BroadcastReceiver. Instead, test a
    BroadcastReceiver by testing the component that sends it Intent objects, to verify that the
    BroadcastReceiver responds correctly.
</p>
<h4 id="ApplicationTestCase">ApplicationTestCase</h4>
<p>
    You use the <code><a href="../../reference/android/test/ApplicationTestCase.html">ApplicationTestCase</a></code> test case class to test the setup and
    teardown of <code><a href="../../reference/android/app/Application.html">Application</a></code> objects. These objects maintain the global state of
    information that applies to all the components in an application package. The test case can
    be useful in verifying that the &lt;application&gt; element in the manifest file is correctly
    set up. Note, however, that this test case does not allow you to control testing of the
    components within your application package.
</p>
<h4 id="InstrumentationTestCase">InstrumentationTestCase</h4>
<p>
    If you want to use instrumentation methods in a test case class, you must use
    <code><a href="../../reference/android/test/InstrumentationTestCase.html">InstrumentationTestCase</a></code> or one of its subclasses. The
    <code><a href="../../reference/android/app/Activity.html">Activity</a></code> test cases extend this base class with other functionality that
    assists in Activity testing.
</p>

<h3 id="AssertionClasses">Assertion classes</h3>
<p>
    Because Android test case classes extend JUnit, you can use assertion methods to display the
    results of tests. An assertion method compares an actual value returned by a test to an
    expected value, and throws an AssertionException if the comparison test fails. Using assertions
    is more convenient than doing logging, and provides better test performance.
</p>
<p>
    Besides the JUnit <code><a href="../../reference/junit/framework/Assert.html">Assert</a></code> class methods, the testing API also provides
    the <code><a href="../../reference/android/test/MoreAsserts.html">MoreAsserts</a></code> and <code><a href="../../reference/android/test/ViewAsserts.html">ViewAsserts</a></code> classes:
</p>
<ul>
    <li>
        <code><a href="../../reference/android/test/MoreAsserts.html">MoreAsserts</a></code> contains more powerful assertions such as
        <code><a href="../../reference/android/test/MoreAsserts.html#assertContainsRegex(java.lang.String, java.lang.String)">assertContainsRegex(String, String)</a></code>, which does regular expression
        matching.
    </li>
    <li>
        <code><a href="../../reference/android/test/ViewAsserts.html">ViewAsserts</a></code> contains useful assertions about Views. For example
        it contains <code><a href="../../reference/android/test/ViewAsserts.html#assertHasScreenCoordinates(android.view.View, android.view.View, int, int)">assertHasScreenCoordinates(View, View, int, int)</a></code> that tests if a View
        has a particular X and Y position on the visible screen. These asserts simplify testing of
        geometry and alignment in the UI.
    </li>
</ul>
<h3 id="MockObjectClasses">Mock object classes</h3>
<p>
    To facilitate dependency injection in testing, Android provides classes that create mock system
    objects such as <code><a href="../../reference/android/content/Context.html">Context</a></code> objects,
    <code><a href="../../reference/android/content/ContentProvider.html">ContentProvider</a></code> objects, <code><a href="../../reference/android/content/ContentResolver.html">ContentResolver</a></code>
    objects, and <code><a href="../../reference/android/app/Service.html">Service</a></code> objects. Some test cases also provide mock
    <code><a href="../../reference/android/content/Intent.html">Intent</a></code> objects. You use these mocks both to isolate tests
    from the rest of the system and to facilitate dependency injection for testing. These classes
    are found in the packages <code><a href="../../reference/android/test/package-summary.html">android.test</a></code> and <code><a href="../../reference/android/test/mock/package-summary.html">android.test.mock</a></code>.
</p>
<p>
    Mock objects isolate tests from a running system by stubbing out or overriding
    normal operations. For example, a <code><a href="../../reference/android/test/mock/MockContentResolver.html">MockContentResolver</a></code>
    replaces the normal resolver framework with its own local framework, which is isolated
    from the rest of the system. MockContentResolver also stubs out the
    <code><a href="../../reference/android/content/ContentResolver.html#notifyChange(android.net.Uri, android.database.ContentObserver, boolean)">notifyChange(Uri, ContentObserver, boolean)</a></code> method
    so that observer objects outside the test environment are not accidentally triggered.
</p>
<p>
    Mock object classes also facilitate dependency injection by providing a subclass of the
    normal object that is non-functional except for overrides you define. For example, the
    <code><a href="../../reference/android/test/mock/MockResources.html">MockResources</a></code> object provides a subclass of
    <code><a href="../../reference/android/content/res/Resources.html">Resources</a></code> in which all the methods throw Exceptions when called.
    To use it, you override only those methods that must provide information.
</p>
<p>
    These are the mock object classes available in Android:
</p>
<h4 id="SimpleMocks">Simple mock object classes</h4>
<p>
    <code><a href="../../reference/android/test/mock/MockApplication.html">MockApplication</a></code>, <code><a href="../../reference/android/test/mock/MockContext.html">MockContext</a></code>,
    <code><a href="../../reference/android/test/mock/MockContentProvider.html">MockContentProvider</a></code>, <code><a href="../../reference/android/test/mock/MockCursor.html">MockCursor</a></code>,
    <code><a href="../../reference/android/test/mock/MockDialogInterface.html">MockDialogInterface</a></code>, <code><a href="../../reference/android/test/mock/MockPackageManager.html">MockPackageManager</a></code>, and
    <code><a href="../../reference/android/test/mock/MockResources.html">MockResources</a></code> provide a simple and useful mock strategy. They are
    stubbed-out versions of the corresponding system object class, and all of their methods throw an
    <code><a href="../../reference/java/lang/UnsupportedOperationException.html">UnsupportedOperationException</a></code> exception if called. To use them, you override
    the methods you need in order to provide mock dependencies.
</p>
<p class="Note"><strong>Note:</strong>
    <code><a href="../../reference/android/test/mock/MockContentProvider.html">MockContentProvider</a></code>
    and <code><a href="../../reference/android/test/mock/MockCursor.html">MockCursor</a></code> are new as of API level 8.
</p>
<h4 id="ResolverMocks">Resolver mock objects</h4>
<p>
    <code><a href="../../reference/android/test/mock/MockContentResolver.html">MockContentResolver</a></code> provides isolated testing of content providers by
    masking out the normal system resolver framework. Instead of looking in the system to find a
    content provider given an authority string, MockContentResolver uses its own internal table. You
    must explicitly add providers to this table using
    <code><a href="../../reference/android/test/mock/MockContentResolver.html#addProvider(java.lang.String, android.content.ContentProvider)">addProvider(String, ContentProvider)</a></code>.
</p>
<p>
    With this feature, you can associate a mock content provider with an authority. You can create
    an instance of a real provider but use test data in it. You can even set the provider for an
    authority to <code>null</code>. In effect, a MockContentResolver object isolates your test
    from providers that contain real data. You can control the
    function of the provider, and you can prevent your test from affecting real data.
</p>
<h3 id="ContextMocks">Contexts for testing</h3>
<p>
    Android provides two Context classes that are useful for testing:
</p>
<ul>
    <li>
        <code><a href="../../reference/android/test/IsolatedContext.html">IsolatedContext</a></code> provides an isolated <code><a href="../../reference/android/content/Context.html">Context</a></code>,
        File, directory, and database operations that use this Context take place in a test area.
        Though its functionality is limited, this Context has enough stub code to respond to
        system calls.
        <p>
            This class allows you to test an application's data operations without affecting real
            data that may be present on the device.
        </p>
    </li>
    <li>
        <code><a href="../../reference/android/test/RenamingDelegatingContext.html">RenamingDelegatingContext</a></code> provides a Context in which
        most functions are handled by an existing <code><a href="../../reference/android/content/Context.html">Context</a></code>, but
        file and database operations are handled by a <code><a href="../../reference/android/test/IsolatedContext.html">IsolatedContext</a></code>.
        The isolated part uses a test directory and creates special file and directory names.
        You can control the naming yourself, or let the constructor determine it automatically.
        <p>
            This object provides a quick way to set up an isolated area for data operations,
            while keeping normal functionality for all other Context operations.
        </p>
    </li>
</ul>
<h2 id="InstrumentationTestRunner">Running Tests</h2>
<p>
    Test cases are run by a test runner class that loads the test case class, set ups,
    runs, and tears down each test. An Android test runner must also be instrumented, so that
    the system utility for starting applications can control how the test package
    loads test cases and the application under test. You tell the Android platform
    which instrumented test runner to use by setting a value in the test package's manifest file.
</p>
<p>
    <code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code> is the primary Android test runner class. It
    extends the JUnit test runner framework and is also instrumented. It can run any of the test
    case classes provided by Android and supports all possible types of testing.
</p>
<p>
    You specify <code>InstrumentationTestRunner</code> or a subclass in your test package's
    manifest file, in the 
<code><a href="../../guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></code> 
    element. Also, <code>InstrumentationTestRunner</code> code resides
    in the shared library <code>android.test.runner</code>,  which is not normally linked to
    Android code. To include it, you must specify it in a
<code><a href="../../guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></code>
    element. You do not have to set up these elements yourself. Both Eclipse with ADT and the
    <code>android</code> command-line tool construct them automatically and add them to your
    test package's manifest file.
</p>
<p class="Note">
    <strong>Note:</strong> If you use a test runner other than
    <code>InstrumentationTestRunner</code>, you must change the &lt;instrumentation&gt;
    element to point to the class you want to use.
</p>
<p>
    To run <code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code>, you use internal system classes called by
    Android tools. When you run a test in Eclipse with ADT, the classes are called automatically.
    When you run a test from the command line, you run these classes with
    <a href="../../tools/help/adb.html">Android Debug Bridge (adb)</a>.
</p>
<p>
    The system classes load and start the test package, kill any processes that
    are running an instance of the application under test, and then load a new instance of the
    application under test. They then pass control to
    <code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code>, which runs
    each test case class in the test package. You can also control which test cases and
    methods are run using settings in Eclipse with ADT, or using flags with the command-line tools.
</p>
<p>
    Neither the system classes nor <code><a href="../../reference/android/test/InstrumentationTestRunner.html">InstrumentationTestRunner</a></code> run
    the application under test. Instead, the test case does this directly. It either calls methods
    in the application under test, or it calls its own methods that trigger lifecycle events in
    the application under test. The application is under the complete control of the test case,
    which allows it to set up the test environment (the test fixture) before running a test. This
    is demonstrated in the previous <a href="#ActivitySnippet">code snippet</a> that tests an
    Activity that displays a Spinner widget.
</p>
<p>
    To learn more about running tests, please read the topics
    <a href="../../tools/testing/testing_eclipse.html">
    Testing from Eclipse with ADT</a> or
    <a href="../../tools/testing/testing_otheride.html">
    Testing from Other IDEs</a>.
</p>
<h2 id="TestResults">Seeing Test Results</h2>
<p>
    The Android testing framework returns test results back to the tool that started the test.
    If you run a test in Eclipse with ADT, the results are displayed in a new JUnit view pane. If
    you run a test from the command line, the results are displayed in <code>STDOUT</code>. In
    both cases, you see a test summary that displays the name of each test case and method that
    was run. You also see all the assertion failures that occurred. These include pointers to the
    line in the test code where the failure occurred. Assertion failures also list the expected
    value and actual value.
</p>
<p>
    The test results have a format that is specific to the IDE that you are using. The test
    results format for Eclipse with ADT is described in
    <a href="../../tools/testing/testing_eclipse.html#RunTestEclipse">
    Testing from Eclipse with ADT</a>. The test results format for tests run from the
    command line is described in
    <a href="../../tools/testing/testing_otheride.html#RunTestsCommand">
    Testing from Other IDEs</a>.
</p>
<h2 id="Monkeys">monkey and monkeyrunner</h2>
<p>
    The SDK provides two tools for functional-level application testing:
</p>
    <ul>
        <li>
The <a href="../../tools/help/monkey.html">UI/Application Exerciser Monkey</a>,
            usually called "monkey", is a command-line tool that sends pseudo-random streams of
            keystrokes, touches, and gestures to a device. You run it with the
            <a href="../../tools/help/adb.html">Android Debug Bridge</a> (adb) tool.
            You use it to stress-test your application and report back errors that are encountered.
            You can repeat a stream of events by running the tool each time with the same random
            number seed.
        </li>
        <li>
    The <a href="../../tools/help/monkeyrunner_concepts.html">monkeyrunner</a> tool
            is an API and execution environment for test programs written in Python. The API
            includes functions for connecting to a device, installing and uninstalling packages,
            taking screenshots, comparing two images, and running a test package against an
            application. Using the API, you can write a wide range of large, powerful, and complex
            tests. You run programs that use the API with the <code>monkeyrunner</code> command-line
            tool.
        </li>
    </ul>
<h2 id="PackageNames">Working With Package names</h2>
<p>
    In the test environment, you work with both Android application package names and
    Java package identifiers. Both use the same naming format, but they represent substantially
    different entities. You need to know the difference to set up your tests correctly.
</p>
<p>
    An Android package name is a unique system name for a <code>.apk</code> file, set by the
    &quot;android:package&quot; attribute of the &lt;manifest&gt; element in the package's
    manifest. The Android package name of your test package must be different from the
    Android package name of the application under test. By default, Android tools create the
    test package name by appending ".test" to the package name of the application under test.
</p>
<p>
    The test package also uses an Android package name to target the application package it
    tests. This is set in the &quot;android:targetPackage&quot; attribute of the
    &lt;instrumentation&gt; element in the test package's manifest.
</p>
<p>
    A Java package identifier applies to a source file. This package name reflects the directory
    path of the source file. It also affects the visibility of classes and members to each other.
</p>
<p>
    Android tools that create test projects set up an Android test package name for you.
    From your input, the tools set up the test package name and the target package name for the
    application under test. For these tools to work, the application project must already exist.
</p>
<p>
    By default, these tools set the Java package identifier for the test class to be the same
    as the Android package identifier. You may want to change this if you want to expose
    members in the application under test by giving them package visibility. If you do this,
    change only the Java package identifier, not the Android package names, and change only the
    test case source files. Do not change the Java package name of the generated
    <code>R.java</code> class in your test package, because it will then conflict with the
    <code>R.java</code> class in the application under test. Do not change the Android package name
    of your test package to be the same as the application it tests, because then their names
    will no longer be unique in the system.
</p>
<h2 id="WhatToTest">What to Test</h2>
<p>
    The topic <a href="../../tools/testing/what_to_test.html">What To Test</a>
    describes the key functionality you should test in an Android application, and the key
    situations that might affect that functionality.
</p>
<p>
    Most unit testing is specific to the Android component you are testing.
    The topics <a href="../../tools/testing/activity_testing.html">Activity Testing</a>,
    <a href="../../tools/testing/contentprovider_testing.html">
    Content Provider Testing</a>, and <a href="../../tools/testing/service_testing.html">
    Service Testing</a> each have a section entitled "What To Test" that lists possible testing
    areas.
</p>
<p>
    When possible, you should run these tests on an actual device. If this is not possible, you can
    use the <a href="../../tools/devices/emulator.html">Android Emulator</a> with
    Android Virtual Devices configured for the hardware, screens, and versions you want to test.
</p>
<h2 id="NextSteps">Next Steps</h2>
<p>
    To learn how to set up and run tests in Eclipse, please refer to 
<a href="../../tools/testing/testing_eclipse.html">Testing from Eclipse with ADT</a>.
    If you're not working in Eclipse, refer to 
<a href="../../tools/testing/testing_otheride.html">Testing from Other IDEs</a>.
</p>
<p>
    If you want a step-by-step introduction to Android testing, try the
    <a href="../../tools/testing/activity_test.html">Activity Testing Tutorial</a>.
</p>

    </div>

    

  </div> <!-- end jd-content -->

<div class="wrap">
  <div class="dac-footer">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <a class="dac-footer-getnews" data-modal-toggle="newsletter" href="javascript:;">Get news &amp; tips <span
          class="dac-fab dac-primary"><i class="dac-sprite dac-mail"></i></span></a>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="http://android-developers.blogspot.com/">Blog</a>
          <a class="dac-footer-contact-link" href="/support.html">Support</a>
        </div>
        <div class="dac-footer-social">
          <a class="dac-fab dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers"><i class="dac-sprite dac-youtube"></i></a>
          <a class="dac-fab dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers"><i class="dac-sprite dac-gplus"></i></a>
          <a class="dac-fab dac-footer-social-link" href="https://twitter.com/AndroidDev"><i class="dac-sprite dac-twitter"></i></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>

    
      <p class="dac-footer-copyright">
        
  Except as noted, this content is
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and
  restrictions, see the <a href="../../license.html">Content
  License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="/about/index.html">About Android</a>
      <a href="/auto/index.html">Auto</a>
      <a href="/tv/index.html">TV</a>
      <a href="/wear/index.html">Wear</a>
      <a href="/legal.html">Legal</a>

      <span id="language" class="locales">
        <select name="language" onchange="changeLangPref(this.value, true)">
          <option value="en" selected="selected">English</option>
          <option value="es">Español</option>
          <option value="ja">日本語</option>
          <option value="ko">한국어</option>
          <option value="pt-br">Português Brasileiro</option>
          <option value="ru">Русский</option>
          <option value="zh-cn">中文（简体)</option>
          <option value="zh-tw">中文（繁體)</option>
        </select>
      </span>
    </p>
  </div>
</div> <!-- end footer -->

<div data-modal="newsletter" data-newsletter data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <button class="dac-modal-header-close" data-modal-toggle><i class="dac-sprite dac-close"></i></button>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle">&#42; Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            <h2 class="norule dac-modal-header-title">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://docs.google.com/forms/d/1QgnkzbEJIDu9lMEea0mxqWrXUJu0oBCLD7ar23V0Yys/formResponse" class="dac-form" method="post" target="dac-newsletter-iframe">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel">Full name</label>
                      <input type="text" class="dac-form-input" name="entry.1357890476" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel">Email address</label>
                      <input type="email" class="dac-form-input" name="entry.472100832" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="entry.1664780309" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="entry.47013838" id="newsletter-play-store" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <legend class="dac-form-legend">Which best describes your business:<span class="dac-form-required">*</span>
                    </legend>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Apps" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-app" required>
                      <label for="newsletter-business-type-app" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-app" class="dac-form-label">Apps</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Games" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-games" required>
                      <label for="newsletter-business-type-games" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-games" class="dac-form-label">Games</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="radio" value="Apps and Games" class="dac-form-radio" name="entry.1796324055" id="newsletter-business-type-appsgames" required>
                      <label for="newsletter-business-type-appsgames" class="dac-form-radio-button"></label>
                      <label for="newsletter-business-type-appsgames" class="dac-form-label">Apps &amp; Games</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="entry.732309842" id="newsletter-add" required value="Add me to the mailing list for the monthly newsletter and occasional emails about development and Google Play opportunities.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">Add me to the mailing list for the monthly newsletter and occasional emails about development and Google Play opportunities.<span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="entry.2045036090" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside">I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.<span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end .cols --> 
</div> <!-- end body-content --> 





  <script src="https://developer.android.com/ytblogger_lists_unified.js" type="text/javascript"></script>
  <script src="../../jd_lists_unified.js?v=15" type="text/javascript"></script>
  <script src="../../jd_extras.js?v=15" type="text/javascript"></script>
  <script src="../../jd_collections.js?v=15" type="text/javascript"></script>
  <script src="../../jd_tag_helpers.js?v=15" type="text/javascript"></script>

</body>
</html>
